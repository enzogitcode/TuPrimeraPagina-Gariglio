{% extends 'AppBlog/base.html' %} {% block content %}
<h2>Formulario de estudiantes</h2>
<form method="post" action="{% url 'students_form' %}">
  {% csrf_token %}

  <div class="form-floating mb-3">
    <input
      type="text"
      class="form-control"
      id="id_name"
      name="name"
      placeholder="Nombre"
      value="{{ form.name.value|default_if_none:'' }}"
      required
    />
    <label for="id_name">Nombre</label>
  </div>

  <div class="form-floating mb-3">
    <input
      type="text"
      class="form-control"
      id="id_last_name"
      name="last_name"
      placeholder="Apellido"
      value="{{ form.last_name.value|default_if_none:'' }}"
      required
    />
    <label for="id_last_name">Apellido</label>
  </div>

  <div class="form-floating mb-3">
    <input
      type="number"
      class="form-control"
      id="id_age"
      name="age"
      min="0"
      max="120"
      placeholder="Edad"
      value="{{ form.age.value|default_if_none:'' }}"
      required
    />
    <label for="id_age">Edad</label>
  </div>

  <div class="form-floating mb-3">
    <input
      type="email"
      class="form-control"
      id="id_email"
      name="email"
      placeholder="Correo Electrónico"
      value="{{ form.email.value|default_if_none:'' }}"
      required
    />
    <label for="id_email">Correo Electrónico</label>
  </div>

  <div class="form-floating mb-3">
    <input
      type="text"
      class="form-control"
      id="id_college"
      name="college"
      placeholder="Colegio"
      value="{{ form.college.value|default_if_none:'' }}"
      required
    />
    <label for="id_college">Institución</label>
  </div>

  <div class="form-floating mb-3">
    <input
      type="text"
      class="form-control"
      id="id_career"
      name="career"
      placeholder="Carrera"
      value="{{ form.career.value|default_if_none:'' }}"
      required
    />
    <label for="id_career">Carrera</label>
  </div>

  <div class="d-grid mt-2 gap-2 d-md-block align-center">
    <button class="btn btn-danger" type="reset">Restablecer</button>
    <button class="btn btn-primary" type="submit">Enviar</button>
  </div>
</form>
{% if form.errors %}
<div class="alert alert-danger mt-3">
  <h4 class="alert-heading">Errores en el formulario</h4>
  <ul>
    {% for field, errors in form.errors.items %}
      {% for error in errors %}
        <li>{{ field }}: {{ error }}</li>
      {% endfor %}
    {% endfor %}
  </ul>
</div>
{% endif %}

{% if success_message %}
<div class="alert alert-success mt-3">
  <strong>Éxito:</strong> {{ success_message }}
</div>
{% endif %}

{% if error_message %}  
<div class="alert alert-danger mt-3">
  <strong>Error:</strong> {{ error_message }}
</div>
{% endif %}

{% endblock %}
